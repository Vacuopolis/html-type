<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>创意互动实验室-好玩又有趣的项目集合</title>
<style>
:root {
  --primary: #4db6ac;
  --primary-dark: #00897b;
  --secondary: #5c6bc0;
  --accent: #64b5f6;
  --primary-gradient: linear-gradient(135deg, #4db6ac 0%, #5c6bc0 100%);
  --secondary-gradient: linear-gradient(135deg, #81c784 0%, #64b5f6 100%);
  --accent-gradient: linear-gradient(135deg, #64b5f6 0%, #8e99f3 100%);
  --warm-gradient: linear-gradient(135deg, #4db6ac 0%, #26a69a 50%, #5c6bc0 100%);
  --background-color: #0f1117;
  --background-secondary: #161822;
  --surface-color: rgba(230, 235, 250, 0.04);
  --card-color: rgba(230, 235, 250, 0.06);
  --card-hover: rgba(230, 235, 250, 0.1);
  --text-primary: #f0f5ff;
  --text-secondary: rgba(240, 245, 255, 0.7);
  --text-muted: rgba(240, 245, 255, 0.45);
  --border-color: rgba(240, 245, 255, 0.08);
  --border-hover: rgba(240, 245, 255, 0.2);
  --glow-primary: rgba(77, 182, 172, 0.4);
  --glow-secondary: rgba(92, 107, 192, 0.4);
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
  background: var(--background-color);
  color: var(--text-primary);
  line-height: 1.6;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  padding-top: var(--safe-top);
  padding-bottom: var(--safe-bottom);
  padding-left: var(--safe-left);
  padding-right: var(--safe-right);
}

.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  width: 0%;
  height: 3px;
  background: var(--primary-gradient);
  z-index: 10000;
  transition: width 0.1s linear;
  box-shadow: 0 0 10px var(--glow-primary);
}

.nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 9999;
  padding: 0 2rem;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  transform: translateY(-100%);
  opacity: 0;
}

.nav.visible {
  transform: translateY(0);
  opacity: 1;
}

.nav-inner {
  max-width: 1400px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.8rem 1.5rem;
  margin-top: 0.8rem;
  background: rgba(15, 17, 23, 0.8);
  -webkit-backdrop-filter: blur(20px);
  backdrop-filter: blur(20px);
  border-radius: 16px;
  border: 1px solid var(--border-color);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.nav-logo {
  font-size: 1.1rem;
  font-weight: 700;
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  white-space: nowrap;
}

.nav-links {
  display: flex;
  gap: 0.5rem;
  list-style: none;
}

.nav-links a {
  color: var(--text-secondary);
  text-decoration: none;
  padding: 0.5rem 1rem;
  border-radius: 10px;
  font-size: 0.9rem;
  font-weight: 500;
  transition: all 0.3s ease;
  position: relative;
}

.nav-links a:hover,
.nav-links a.active {
  color: var(--text-primary);
  background: rgba(77, 182, 172, 0.1);
}

.nav-links a.active::after {
  content: '';
  position: absolute;
  bottom: 4px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 2px;
  background: var(--primary);
  border-radius: 1px;
}

.hamburger-btn {
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 40px;
  height: 40px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  gap: 5px;
  z-index: 10001;
  border-radius: 8px;
  transition: background 0.3s ease;
}

.hamburger-btn:hover {
  background: rgba(240, 245, 255, 0.06);
}

.hamburger-btn span {
  display: block;
  width: 22px;
  height: 2px;
  background: var(--text-primary);
  border-radius: 2px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: center;
}

.hamburger-btn.active span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}

.hamburger-btn.active span:nth-child(2) {
  opacity: 0;
  transform: scaleX(0);
}

.hamburger-btn.active span:nth-child(3) {
  transform: rotate(-45deg) translate(5px, -5px);
}

.drawer-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  z-index: 9998;
  opacity: 0;
  transition: opacity 0.3s ease;
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
}

.drawer-overlay.visible {
  opacity: 1;
}

.drawer-nav {
  display: none;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  width: 200px;
  max-width: 80vw;
  background: rgba(22, 24, 34, 0.98);
  -webkit-backdrop-filter: blur(30px);
  backdrop-filter: blur(30px);
  z-index: 9999;
  transform: translateX(100%);
  transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
  border-left: 1px solid var(--border-color);
  padding: 5rem 1.5rem 2rem;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.drawer-nav.visible {
  transform: translateX(0);
}

.drawer-nav ul {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}

.drawer-nav ul li a {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  color: var(--text-secondary);
  text-decoration: none;
  padding: 0.9rem 1.2rem;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: 500;
  transition: all 0.3s ease;
}

.drawer-nav ul li a:hover,
.drawer-nav ul li a.active {
  color: var(--text-primary);
  background: rgba(77, 182, 172, 0.1);
}

.drawer-nav ul li a.active {
  border-left: 3px solid var(--primary);
}

.drawer-close {
  position: absolute;
  top: 1.2rem;
  right: 1.2rem;
  width: 36px;
  height: 36px;
  background: rgba(240, 245, 255, 0.06);
  border: 1px solid var(--border-color);
  border-radius: 10px;
  color: var(--text-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 1.2rem;
  transition: all 0.3s ease;
}

.drawer-close:hover {
  background: rgba(240, 245, 255, 0.12);
}

.hero {
    position: relative;
    min-height: 100vh;
    min-height: 100dvh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    padding: 2rem 2rem 4rem;
}

.hero-bg {
  position: absolute;
  inset: 0;
  z-index: 0;
}

.hero-bg canvas {
  width: 100%;
  height: 100%;
}

.hero-gradient-overlay {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse at 20% 50%, rgba(77, 182, 172, 0.15) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 20%, rgba(92, 107, 192, 0.12) 0%, transparent 60%),
    radial-gradient(ellipse at 50% 80%, rgba(100, 181, 246, 0.1) 0%, transparent 60%);
  z-index: 1;
}

.hero-bottom-fade {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 200px;
  background: linear-gradient(to bottom, transparent, var(--background-color));
  z-index: 2;
}

.hero-content {
    position: relative;
    z-index: 3;
    text-align: center;
    max-width: 900px;
    padding-bottom: 1rem;
}

.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1.2rem;
  background: rgba(77, 182, 172, 0.1);
  border: 1px solid rgba(77, 182, 172, 0.2);
  border-radius: 50px;
  font-size: 0.85rem;
  color: var(--primary);
  font-weight: 500;
  margin-bottom: 2rem;
  animation: fadeInDown 0.8s ease-out 0.2s both;
}

.badge-dot {
  width: 6px;
  height: 6px;
  background: var(--primary);
  border-radius: 50%;
  animation: pulse-dot 2s ease-in-out infinite;
}

@keyframes pulse-dot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(0.8); }
}

.hero h1 {
  font-size: clamp(2.5rem, 7vw, 5.5rem);
  font-weight: 800;
  line-height: 1.1;
  margin-bottom: 1.5rem;
  animation: fadeInDown 0.8s ease-out 0.4s both;
}

.hero h1 .gradient-text {
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero h1 .line {
  display: block;
}

.hero-description {
  font-size: clamp(0.95rem, 2vw, 1.3rem);
  color: var(--text-secondary);
  max-width: 600px;
  margin: 0 auto 2.5rem;
  line-height: 1.8;
  animation: fadeInDown 0.8s ease-out 0.6s both;
}

.hero-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
  animation: fadeInDown 0.8s ease-out 0.8s both;
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.9rem 2rem;
  border-radius: 14px;
  font-size: 1rem;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  border: none;
  position: relative;
  overflow: hidden;
}

.btn-primary {
  background: var(--primary-gradient);
  color: white;
  box-shadow: 0 4px 15px rgba(77, 182, 172, 0.3);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(77, 182, 172, 0.4);
}

.btn-secondary {
  background: rgba(240, 245, 255, 0.06);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  backdrop-filter: blur(10px);
}

.btn-secondary:hover {
  background: rgba(240, 245, 255, 0.1);
  border-color: var(--border-hover);
  transform: translateY(-2px);
}

.hero-stats {
    display: flex;
    gap: 3rem;
    justify-content: center;
    margin-top: 2.5rem;
    margin-bottom: 5rem;
    animation: fadeInDown 0.8s ease-out 1s both;
}

.stat {
  text-align: center;
}

.stat-number {
  font-size: 2rem;
  font-weight: 800;
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.stat-label {
  font-size: 0.85rem;
  color: var(--text-muted);
  margin-top: 0.2rem;
}

.scroll-indicator {
    position: absolute;
    bottom: 1.5rem;
    left: 0;
    right: 0;
    z-index: 3;
    display: flex;
    justify-content: center;
    align-items: center;
    animation: fadeInDown 0.8s ease-out 1.2s both;
    pointer-events: none;
}

.scroll-mouse-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.scroll-mouse {
    width: 24px;
    height: 38px;
    border: 2px solid var(--border-hover);
    border-radius: 12px;
    position: relative;
}

.scroll-mouse::after {
    content: '';
    position: absolute;
    top: 6px;
    left: 50%;
    transform: translateX(-50%);
    width: 3px;
    height: 8px;
    background: var(--primary);
    border-radius: 2px;
    animation: scroll-wheel 2s ease-in-out infinite;
}

.scroll-touch-wrapper {
    display: none;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.scroll-touch-hand {
    width: 28px;
    height: 42px;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.scroll-touch-finger-circle {
    width: 18px;
    height: 18px;
    border: 2px solid var(--border-hover);
    border-radius: 50%;
    position: relative;
    animation: touch-finger-move 2.2s ease-in-out infinite;
    z-index: 1;
}

.scroll-touch-finger-circle::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 5px;
    height: 5px;
    background: var(--primary);
    border-radius: 50%;
}

.scroll-touch-line {
    width: 2px;
    height: 0;
    background: linear-gradient(to bottom, var(--primary), transparent);
    border-radius: 1px;
    margin-top: -2px;
    animation: touch-line-grow 2.2s ease-in-out infinite;
}

.scroll-touch-down-arrows {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1px;
    margin-top: 4px;
    animation: touch-arrows-drift 2.2s ease-in-out infinite;
}

.scroll-touch-down-arrows span {
    display: block;
    width: 10px;
    height: 10px;
    border-right: 2px solid var(--primary);
    border-bottom: 2px solid var(--primary);
    transform: rotate(45deg);
}

.scroll-touch-down-arrows span:nth-child(1) {
    opacity: 0.3;
    animation: arrow-cascade 2.2s ease-in-out infinite;
}

.scroll-touch-down-arrows span:nth-child(2) {
    opacity: 0.3;
    animation: arrow-cascade 2.2s ease-in-out 0.15s infinite;
}

.scroll-touch-down-arrows span:nth-child(3) {
    opacity: 0.3;
    animation: arrow-cascade 2.2s ease-in-out 0.3s infinite;
}

.scroll-label {
    font-size: 0.75rem;
    color: var(--text-muted);
    letter-spacing: 0.1em;
    text-transform: uppercase;
    white-space: nowrap;
}

@keyframes touch-finger-move {
    0%, 100% {
        transform: translateY(0);
        opacity: 1;
    }
    40% {
        transform: translateY(16px);
        opacity: 0.7;
    }
    70% {
        transform: translateY(16px);
        opacity: 0.4;
    }
}

@keyframes touch-line-grow {
    0% {
        height: 0;
        opacity: 0;
    }
    20% {
        height: 14px;
        opacity: 0.6;
    }
    50% {
        height: 14px;
        opacity: 0.3;
    }
    70%, 100% {
        height: 0;
        opacity: 0;
    }
}

@keyframes touch-arrows-drift {
    0%, 100% {
        transform: translateY(0);
        opacity: 0.8;
    }
    50% {
        transform: translateY(5px);
        opacity: 1;
    }
}

@keyframes arrow-cascade {
    0%, 100% {
        opacity: 0.3;
    }
    50% {
        opacity: 1;
    }
}

@keyframes scroll-wheel {
    0% {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
    }
    100% {
        transform: translateX(-50%) translateY(12px);
        opacity: 0;
    }
}

@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

.orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.3;
  animation: float-orb 20s ease-in-out infinite alternate;
  z-index: 0;
  pointer-events: none;
}

.orb-1 {
  width: 400px;
  height: 400px;
  background: var(--primary);
  top: 10%;
  left: -5%;
  animation-delay: 0s;
}

.orb-2 {
  width: 350px;
  height: 350px;
  background: var(--secondary);
  top: 60%;
  right: -5%;
  animation-delay: -7s;
}

.orb-3 {
  width: 300px;
  height: 300px;
  background: var(--accent);
  bottom: 10%;
  left: 30%;
  animation-delay: -14s;
}

@keyframes float-orb {
  0% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(30px, -30px) scale(1.05); }
  66% { transform: translate(-20px, 20px) scale(0.95); }
  100% { transform: translate(10px, -10px) scale(1.02); }
}

.main-content {
  position: relative;
  z-index: 1;
  padding-top: 2rem;
}

.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 2rem;
}

.section {
  margin-bottom: 6rem;
  scroll-margin-top: 100px;
}

.section-header {
  text-align: center;
  margin-bottom: 3.5rem;
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.section-header.visible {
  opacity: 1;
  transform: translateY(0);
}

.section-label {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--primary);
  text-transform: uppercase;
  letter-spacing: 0.15em;
  margin-bottom: 1rem;
}

.section-label::before,
.section-label::after {
  content: '';
  width: 30px;
  height: 1px;
  background: var(--primary);
  opacity: 0.5;
}

.section-title {
  font-size: clamp(1.8rem, 4vw, 3rem);
  font-weight: 800;
  margin-bottom: 1rem;
  line-height: 1.2;
}

.section-title.gradient-text {
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.section-description {
  font-size: 1.05rem;
  color: var(--text-secondary);
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.7;
}

.projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
  gap: 2rem;
}

.project-card {
  position: relative;
  background: var(--card-color);
  border-radius: 20px;
  border: 1px solid var(--border-color);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  opacity: 0;
  transform: translateY(40px);
  will-change: transform, opacity;
}

.project-card.visible {
  opacity: 1;
  transform: translateY(0);
}

.project-card::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 20px;
  padding: 1px;
  background: linear-gradient(135deg, rgba(77, 182, 172, 0), rgba(92, 107, 192, 0));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  transition: background 0.5s ease;
  pointer-events: none;
  z-index: 2;
}

.project-card:hover::before {
  background: linear-gradient(135deg, rgba(77, 182, 172, 0.5), rgba(92, 107, 192, 0.5));
}

.project-card:hover {
  border-color: transparent;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3), 0 0 40px rgba(77, 182, 172, 0.08);
  background: var(--card-hover);
}

.card-shine {
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.5s ease;
  background: radial-gradient(600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(255, 255, 255, 0.06), transparent 40%);
}

.project-card:hover .card-shine {
  opacity: 1;
}

.card-image-wrapper {
  position: relative;
  height: 210px;
  overflow: hidden;
  background: var(--background-secondary);
}

.card-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.project-card:hover .card-image {
  transform: scale(1.08);
}

.card-image-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(to bottom, transparent 50%, rgba(15, 17, 23, 0.8) 100%);
  z-index: 1;
}

.card-image-wrapper.loading::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%);
  animation: shimmer 1.5s infinite;
}

.card-image-error {
  position: absolute;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  gap: 0.5rem;
  background: var(--background-secondary);
  z-index: 1;
}

.card-image-error svg {
  width: 40px;
  height: 40px;
  opacity: 0.3;
}

.card-image-error span {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.card-image-wrapper.error .card-image-error {
  display: flex;
}

.card-image-wrapper.error .card-image {
  display: none;
}

.card-image-wrapper.error .card-image-overlay {
  display: none;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.card-number {
  position: absolute;
  top: 1rem;
  left: 1rem;
  z-index: 2;
  font-size: 0.75rem;
  font-weight: 700;
  color: white;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  padding: 0.3rem 0.7rem;
  border-radius: 8px;
  letter-spacing: 0.05em;
}

.card-body {
  padding: 1.5rem 1.8rem 1.8rem;
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  z-index: 1;
}

.card-title {
  font-size: 1.35rem;
  font-weight: 700;
  margin-bottom: 0.6rem;
  color: var(--text-primary);
  line-height: 1.4;
  transition: color 0.3s ease;
}

.project-card:hover .card-title {
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.card-description {
  color: var(--text-secondary);
  font-size: 0.92rem;
  line-height: 1.7;
  flex-grow: 1;
  margin-bottom: 1.5rem;
}

.card-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.card-link {
  display: inline-flex;
  align-items: center;
  gap: 0.6rem;
  text-decoration: none;
  color: var(--primary);
  font-weight: 600;
  font-size: 0.92rem;
  padding: 0.6rem 1.4rem;
  border-radius: 12px;
  background: rgba(77, 182, 172, 0.08);
  border: 1px solid rgba(77, 182, 172, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.card-link:hover {
  background: var(--primary-gradient);
  color: white;
  border-color: transparent;
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(77, 182, 172, 0.3);
}

.card-link .arrow {
  transition: transform 0.3s ease;
  font-size: 1.1em;
}

.card-link:hover .arrow {
  transform: translateX(3px);
}

.card-tag {
  font-size: 0.78rem;
  color: var(--text-muted);
  padding: 0.3rem 0.8rem;
  background: rgba(240, 245, 255, 0.04);
  border-radius: 8px;
  border: 1px solid var(--border-color);
}

.skeleton {
  background: rgba(240, 245, 255, 0.06);
  border-radius: 8px;
  animation: pulse-skeleton 1.8s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse-skeleton {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

footer {
  position: relative;
  margin-top: 4rem;
  padding: 4rem 2rem 2rem;
  background: var(--background-secondary);
  border-top: 1px solid var(--border-color);
}

.footer-content {
  max-width: 1400px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 2fr 1fr 1fr;
  gap: 3rem;
  margin-bottom: 3rem;
}

.footer-brand h3 {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 0.8rem;
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.footer-brand p {
  color: var(--text-secondary);
  font-size: 0.92rem;
  line-height: 1.7;
  max-width: 350px;
}

.footer-section h4 {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 1rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

.footer-section ul {
  list-style: none;
}

.footer-section ul li {
  margin-bottom: 0.6rem;
}

.footer-section ul li a {
  color: var(--text-secondary);
  text-decoration: none;
  font-size: 0.9rem;
  transition: color 0.3s ease;
}

.footer-section ul li a:hover {
  color: var(--primary);
}

.footer-bottom {
  max-width: 1400px;
  margin: 0 auto;
  padding-top: 2rem;
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
}

.footer-bottom p {
  color: var(--text-muted);
  font-size: 0.85rem;
}

.footer-bottom a {
  color: var(--primary);
  text-decoration: none;
}

.back-to-top {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  width: 48px;
  height: 48px;
  border-radius: 14px;
  background: rgba(15, 17, 23, 0.8);
  backdrop-filter: blur(20px);
  border: 1px solid var(--border-color);
  color: var(--text-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 997;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  font-size: 1.2rem;
}

.back-to-top.visible {
  opacity: 1;
  transform: translateY(0);
}

.back-to-top:hover {
  background: var(--primary-gradient);
  border-color: transparent;
  box-shadow: 0 4px 20px rgba(77, 182, 172, 0.3);
  transform: translateY(-3px);
}

@media (hover: none) and (pointer: coarse) {
    .scroll-mouse-wrapper {
        display: none !important;
    }

    .scroll-touch-wrapper {
        display: flex !important;
    }

    .card-shine {
        display: none;
    }

    .project-card:hover .card-image {
        transform: none;
    }

    .project-card:active {
        transform: scale(0.98) !important;
        transition: transform 0.15s ease !important;
    }

    .btn:active {
        transform: scale(0.96);
    }

    .card-link:active {
        transform: scale(0.96);
    }

    .back-to-top:active {
        transform: scale(0.9);
    }
}

@media (max-width: 1024px) {
  .footer-content {
    grid-template-columns: 1fr 1fr;
  }

  .footer-brand {
    grid-column: 1 / -1;
  }
}

@media (max-width: 768px) {
    .hero {
        min-height: 100vh;
        min-height: 100dvh;
        padding: 2rem 1rem 5rem;
    }

    .container {
        padding: 0 1rem;
    }

    .projects-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }

    .hero-stats {
        gap: 2rem;
        margin-bottom: 4rem;
    }

    .stat-number {
        font-size: 1.5rem;
    }

    .nav {
        padding: 0 0.8rem;
    }

    .nav-inner {
        padding: 0.6rem 1rem;
    }

    .nav-links {
        display: none;
    }

    .hamburger-btn {
        display: flex;
    }

    .drawer-overlay {
        display: block;
        pointer-events: none;
    }

    .drawer-overlay.visible {
        pointer-events: auto;
    }

    .drawer-nav {
        display: block;
    }

    .section {
        margin-bottom: 4rem;
    }

    .footer-content {
        grid-template-columns: 1fr;
        gap: 2rem;
    }

    .footer-bottom {
        flex-direction: column;
        text-align: center;
    }

    .hero-actions {
        flex-direction: column;
        align-items: center;
    }

    .btn {
        width: 100%;
        max-width: 280px;
        justify-content: center;
    }

    .scroll-indicator {
        bottom: calc(1.2rem + var(--safe-bottom));
    }

    .scroll-mouse-wrapper {
        display: none !important;
    }

    .scroll-touch-wrapper {
        display: flex !important;
    }

    .back-to-top {
        bottom: calc(1.5rem + var(--safe-bottom));
        right: 1rem;
        width: 44px;
        height: 44px;
        border-radius: 12px;
    }

    footer {
        padding: 3rem 1rem 2rem;
        padding-bottom: calc(2rem + var(--safe-bottom));
    }
}

@media (max-width: 480px) {
    .project-card {
        border-radius: 16px;
    }

    .card-image-wrapper {
        height: 180px;
    }

    .card-body {
        padding: 1.2rem 1.4rem 1.5rem;
    }

    .card-title {
        font-size: 1.2rem;
    }

    .hero-stats {
        flex-direction: column;
        gap: 1rem;
        margin-bottom: 3.5rem;
    }

    .hero-badge {
        font-size: 0.78rem;
        padding: 0.4rem 1rem;
    }

    .hero h1 {
        font-size: clamp(2.2rem, 10vw, 3.5rem);
    }

    .section-label::before,
    .section-label::after {
        width: 20px;
    }

    .scroll-indicator {
        bottom: calc(1rem + var(--safe-bottom));
    }
}

::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: var(--background-color);
}

::-webkit-scrollbar-thumb {
  background: rgba(77, 182, 172, 0.3);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(77, 182, 172, 0.5);
}

::selection {
  background: rgba(77, 182, 172, 0.3);
  color: var(--text-primary);
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
</style>
</head>
<body>

<div class="scroll-progress" id="scrollProgress"></div>

<nav class="nav" id="mainNav">
  <div class="nav-inner">
    <div class="nav-logo">Creative Lab</div>
    <ul class="nav-links" id="navLinks"></ul>
    <button class="hamburger-btn" id="hamburgerBtn" aria-label="打开菜单">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
</nav>

<div class="drawer-overlay" id="drawerOverlay"></div>
<div class="drawer-nav" id="drawerNav">
  <button class="drawer-close" id="drawerClose" aria-label="关闭菜单">&times;</button>
  <ul id="drawerLinks"></ul>
</div>

<section class="hero" id="hero">
  <div class="hero-bg">
    <canvas id="heroCanvas"></canvas>
  </div>
  <div class="hero-gradient-overlay"></div>
  <div class="hero-bottom-fade"></div>
  <div class="hero-content">
    <div class="hero-badge">
      <span class="badge-dot"></span>
      <span>探索创意与技术的交汇</span>
    </div>
    <h1>
      <span class="line">创意互动</span>
      <span class="line"><span class="gradient-text">实验室</span></span>
    </h1>
    <p class="hero-description">这里汇集了各种精心制作的互动项目与游戏，每一个作品都是一次创意与技术的碰撞，点击即可体验。</p>
    <div class="hero-actions">
      <a href="#section-0" class="btn btn-primary">
        <span>浏览作品</span>
        <span class="arrow">&darr;</span>
      </a>
      <a href="#about" class="btn btn-secondary">
        <span>了解更多</span>
      </a>
    </div>
    <div class="hero-stats" id="heroStats"></div>
  </div>
  <div class="scroll-indicator">
    <div class="scroll-mouse-wrapper">
        <div class="scroll-mouse"></div>
        <span class="scroll-label">向下滚动</span>
    </div>
    <div class="scroll-touch-wrapper">
        <div class="scroll-touch-hand">
            <div class="scroll-touch-finger-circle"></div>
            <div class="scroll-touch-line"></div>
        </div>
        <div class="scroll-touch-down-arrows">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <span class="scroll-label">向下滑动</span>
    </div>
</div>

</section>

<div class="orb orb-1"></div>
<div class="orb orb-2"></div>
<div class="orb orb-3"></div>

<main class="main-content">
  <div class="container" id="projectsContainer"></div>
</main>

<footer id="about">
  <div class="footer-content">
    <div class="footer-brand">
      <h3>创意互动实验室</h3>
      <p>每一个项目都是对前端技术的探索与实践，希望这些小作品能带给你一些乐趣和灵感。所有项目均为纯前端实现，无需安装，点击即玩。</p>
    </div>
    <div class="footer-section">
      <h4>快速导航</h4>
      <ul id="footerNav"></ul>
    </div>
    <div class="footer-section">
      <h4>联系方式</h4>
      <ul>
        <li><a href="mailto:3256639070@qq.com">3256639070@qq.com</a></li>
      </ul>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; 2025 创意互动实验室 by 空城. 发现乐趣，体验创意。</p>
    <p>本站所有项目均为前端技术演示及教育用途，不包含真实交易与数据收集。</p>
  </div>
</footer>

<button class="back-to-top" id="backToTop" aria-label="回到顶部">&uarr;</button>

<script>
const projectsData = {
  "互动项目": [
    {
      title: "文字磁场",
      description: "文字像被磁铁吸引一样在屏幕上运动，长按触碰或鼠标滑动形成有趣的动态效果，感受文字与物理的奇妙结合。",
      imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/wzcc.png",
      link: "https://vacuopolis.netlify.app/%E6%96%87%E5%AD%97%E7%A3%81%E5%9C%BA%EF%BC%88%E6%9B%B4%E6%96%B0%E4%B8%89%E7%89%88%EF%BC%89.html",
      tag: "物理模拟"
    },
    {
      title: "太阳系模拟",
      description: "模拟太阳系中行星围绕太阳运行的场景，观察行星的轨道和运动规律，了解宇宙的奇妙之处。",
      imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/tyxmn.png",
      link: "https://vacuopolis.netlify.app/%E5%A4%AA%E9%98%B3%E7%B3%BB%E6%A8%A1%E6%8B%9F.html",
      tag: "天文可视化"
    }
  ],
  "小游戏": [
    {
      title: "亮灯解谜",
      description: "经典亮灯游戏，点击方块改变灯的状态，目标是将所有的灯都点亮。考验你的逻辑推理能力！",
      imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/ldyx.png",
      link: "https://vacuopolis.netlify.app/%E4%BA%AE%E7%81%AF%E6%B8%B8%E6%88%8F.html",
      tag: "逻辑解谜"
    },
    {
      title: "贪吃蛇大作战",
      description: "控制小蛇吃掉食物不断变长，小心不要撞到墙壁或自己的身体。多种模式等你挑战。",
      imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/tcs.png",
      link: "https://vacuopolis.netlify.app/%E8%B4%AA%E5%90%83%E8%9B%87.html",
      tag: "经典街机"
    },
    {
      title: "幸运转盘",
      description: "点击按钮转动转盘，猜猜会停在哪个数字？试试你的运气，看看命运之轮如何转动！",
      imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/lpd.png",
      link: "https://vacuopolis.netlify.app/%E8%BD%AE%E7%9B%98%E8%B5%8C.html",
      tag: "休闲娱乐"
    },
    {
      title: "经典扫雷",
      description: "根据数字提示避开地雷，开动脑筋，看看你能在多快的时间内完成挑战！",
      imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/sl.png",
      link: "https://vacuopolis.netlify.app/%E6%89%AB%E9%9B%B7.html",
      tag: "策略推理"
    },
    {
      title: "俄罗斯方块",
      description: "将不断下落的不同形状方块移动、旋转并排列成完整的一行或多行以消除得分。",
      imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/elsfk.png",
      link: "https://vacuopolis.netlify.app/%E4%BF%84%E7%BD%97%E6%96%AF%E6%96%B9%E5%9D%97.html",
      tag: "经典街机"
    }
  ]
};

let drawerOpen = false;

function toggleDrawer(open) {
  const overlay = document.getElementById('drawerOverlay');
  const drawer = document.getElementById('drawerNav');
  const hamburger = document.getElementById('hamburgerBtn');

  if (open === undefined) open = !drawerOpen;
  drawerOpen = open;

  if (drawerOpen) {
    overlay.classList.add('visible');
    drawer.classList.add('visible');
    hamburger.classList.add('active');
    document.body.style.overflow = 'hidden';
  } else {
    overlay.classList.remove('visible');
    drawer.classList.remove('visible');
    hamburger.classList.remove('active');
    document.body.style.overflow = '';
  }
}

function initHeroCanvas() {
  const canvas = document.getElementById('heroCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  let width, height, particles, animationId;
  const isMobile = window.innerWidth <= 768;
  const PARTICLE_COUNT = isMobile ? 35 : 80;
  const CONNECTION_DISTANCE = isMobile ? 100 : 150;
  let mouse = { x: -9999, y: -9999 };

  function resize() {
    width = canvas.width = canvas.offsetWidth;
    height = canvas.height = canvas.offsetHeight;
  }

  function createParticles() {
    particles = [];
    for (let i = 0; i < PARTICLE_COUNT; i++) {
      particles.push({
        x: Math.random() * width,
        y: Math.random() * height,
        vx: (Math.random() - 0.5) * 0.5,
        vy: (Math.random() - 0.5) * 0.5,
        radius: Math.random() * 2 + 0.5,
        opacity: Math.random() * 0.5 + 0.2
      });
    }
  }

  function animate() {
    ctx.clearRect(0, 0, width, height);
    particles.forEach((p, i) => {
      p.x += p.vx;
      p.y += p.vy;
      if (p.x < 0 || p.x > width) p.vx *= -1;
      if (p.y < 0 || p.y > height) p.vy *= -1;

      const dx = p.x - mouse.x;
      const dy = p.y - mouse.y;
      const dist = Math.sqrt(dx * dx + dy * dy);
      if (dist < 120) {
        const force = (120 - dist) / 120;
        p.vx += (dx / dist) * force * 0.3;
        p.vy += (dy / dist) * force * 0.3;
      }

      p.vx *= 0.99;
      p.vy *= 0.99;

      ctx.beginPath();
      ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(77,182,172,${p.opacity})`;
      ctx.fill();

      for (let j = i + 1; j < particles.length; j++) {
        const p2 = particles[j];
        const ddx = p.x - p2.x;
        const ddy = p.y - p2.y;
        const distance = Math.sqrt(ddx * ddx + ddy * ddy);
        if (distance < CONNECTION_DISTANCE) {
          const alpha = (1 - distance / CONNECTION_DISTANCE) * 0.15;
          ctx.beginPath();
          ctx.moveTo(p.x, p.y);
          ctx.lineTo(p2.x, p2.y);
          ctx.strokeStyle = `rgba(77,182,172,${alpha})`;
          ctx.lineWidth = 0.5;
          ctx.stroke();
        }
      }
    });
    animationId = requestAnimationFrame(animate);
  }

  canvas.addEventListener('mousemove', (e) => {
    const rect = canvas.getBoundingClientRect();
    mouse.x = e.clientX - rect.left;
    mouse.y = e.clientY - rect.top;
  });

  canvas.addEventListener('touchmove', (e) => {
    const rect = canvas.getBoundingClientRect();
    const touch = e.touches[0];
    mouse.x = touch.clientX - rect.left;
    mouse.y = touch.clientY - rect.top;
  }, { passive: true });

  canvas.addEventListener('mouseleave', () => {
    mouse.x = -9999;
    mouse.y = -9999;
  });

  canvas.addEventListener('touchend', () => {
    mouse.x = -9999;
    mouse.y = -9999;
  }, { passive: true });

  let resizeTimer;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
      resize();
      createParticles();
    }, 250);
  });

  resize();
  createParticles();
  animate();
}

function renderHeroStats() {
  const container = document.getElementById('heroStats');
  if (!container) return;
  let totalProjects = 0;
  let totalCategories = Object.keys(projectsData).length;
  Object.values(projectsData).forEach(arr => totalProjects += arr.length);

  container.innerHTML = `
    <div class="stat">
      <div class="stat-number" data-target="${totalProjects}">0</div>
      <div class="stat-label">个作品</div>
    </div>
    <div class="stat">
      <div class="stat-number" data-target="${totalCategories}">0</div>
      <div class="stat-label">个分类</div>
    </div>
    <div class="stat">
      <div class="stat-number" data-target="100">0%</div>
      <div class="stat-label">纯前端实现</div>
    </div>
  `;

  setTimeout(() => {
    container.querySelectorAll('.stat-number').forEach(el => {
      const target = parseInt(el.dataset.target);
      const isPercent = el.textContent.includes('%');
      let current = 0;
      const step = Math.max(1, Math.floor(target / 30));
      const interval = setInterval(() => {
        current += step;
        if (current >= target) {
          current = target;
          clearInterval(interval);
        }
        el.textContent = current + (isPercent ? '%' : '');
      }, 40);
    });
  }, 1200);
}

function renderProjects() {
  const container = document.getElementById('projectsContainer');
  if (!container) return;
  container.innerHTML = '';

  const navLinks = document.getElementById('navLinks');
  const footerNav = document.getElementById('footerNav');
  const drawerLinks = document.getElementById('drawerLinks');

  let navHTML = '<li><a href="#hero">首页</a></li>';
  let footerHTML = '<li><a href="#hero">首页</a></li>';
  let drawerHTML = '<li><a href="#hero">首页</a></li>';
  let globalIndex = 0;

  Object.entries(projectsData).forEach(([category, projects], catIndex) => {
    const sectionId = `section-${catIndex}`;
    navHTML += `<li><a href="#${sectionId}">${category}</a></li>`;
    footerHTML += `<li><a href="#${sectionId}">${category}</a></li>`;
    drawerHTML += `<li><a href="#${sectionId}">${category}</a></li>`;

    const section = document.createElement('section');
    section.className = 'section';
    section.id = sectionId;

    let cardsHTML = '';
    projects.forEach((project, pIndex) => {
      globalIndex++;
      cardsHTML += `
        <div class="project-card" data-delay="${pIndex * 0.1}" data-link="${project.link}">
          <div class="card-shine"></div>
          <div class="card-image-wrapper loading">
            <img class="card-image" data-src="${project.imageUrl}" alt="${project.title}" loading="lazy">
            <div class="card-image-overlay"></div>
            <div class="card-image-error">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
              <span>图片加载失败</span>
            </div>
            <span class="card-number">${String(globalIndex).padStart(2, '0')}</span>
          </div>
          <div class="card-body">
            <h3 class="card-title">${project.title}</h3>
            <p class="card-description">${project.description}</p>
            <div class="card-footer">
              <a href="${project.link}" class="card-link" target="_blank" rel="noopener noreferrer">
                <span>马上体验</span>
                <span class="arrow">&rarr;</span>
              </a>
              ${project.tag ? `<span class="card-tag">${project.tag}</span>` : ''}
            </div>
          </div>
        </div>
      `;
    });

    section.innerHTML = `
      <div class="section-header">
        <div class="section-label"><span>${category}</span></div>
        <h2 class="section-title"><span class="gradient-text">${category}</span></h2>
        <p class="section-description">${category === '互动项目' ? '探索有趣的互动体验，感受技术与创意的融合' : '经典与创新并存的小游戏合集，随时随地开始挑战'}</p>
      </div>
      <div class="projects-grid">${cardsHTML}</div>
    `;

    container.appendChild(section);
  });

  drawerHTML += '<li><a href="#about">关于</a></li>';
  if (navLinks) navLinks.innerHTML = navHTML;
  if (footerNav) footerNav.innerHTML = footerHTML;
  if (drawerLinks) drawerLinks.innerHTML = drawerHTML;

  lazyLoadImages();
  setupCardInteractions();
  setupScrollObservers();
}

function loadImageWithRetry(img, src, wrapper, maxRetries, currentRetry) {
  if (currentRetry === undefined) currentRetry = 0;
  if (maxRetries === undefined) maxRetries = 3;

  const controller = new AbortController();
  const timeoutId = setTimeout(() => controller.abort(), 15000);

  fetch(src, { signal: controller.signal, mode: 'cors', cache: 'force-cache' })
    .then(response => {
      clearTimeout(timeoutId);
      if (!response.ok) throw new Error('fetch failed');
      return response.blob();
    })
    .then(blob => {
      const objectUrl = URL.createObjectURL(blob);
      img.onload = () => {
        URL.revokeObjectURL(objectUrl);
        img.removeAttribute('data-src');
        if (wrapper) wrapper.classList.remove('loading');
      };
      img.onerror = () => {
        URL.revokeObjectURL(objectUrl);
        if (currentRetry < maxRetries) {
          setTimeout(() => {
            loadImageWithRetry(img, src, wrapper, maxRetries, currentRetry + 1);
          }, 1000 * (currentRetry + 1));
        } else {
          if (wrapper) {
            wrapper.classList.remove('loading');
            wrapper.classList.add('error');
          }
        }
      };
      img.src = objectUrl;
    })
    .catch(() => {
      clearTimeout(timeoutId);
            if (currentRetry < maxRetries) {
        setTimeout(() => {
          loadImageWithRetry(img, src, wrapper, maxRetries, currentRetry + 1);
        }, 1000 * (currentRetry + 1));
      } else {
        const directImg = new Image();
        directImg.onload = () => {
          img.src = src;
          img.removeAttribute('data-src');
          if (wrapper) wrapper.classList.remove('loading');
        };
        directImg.onerror = () => {
          if (wrapper) {
            wrapper.classList.remove('loading');
            wrapper.classList.add('error');
          }
        };
        directImg.src = src;
      }
    });
}

function lazyLoadImages() {
  const imgObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const img = entry.target;
        const wrapper = img.closest('.card-image-wrapper');
        const src = img.dataset.src;
        if (src) {
          loadImageWithRetry(img, src, wrapper, 3, 0);
        }
        imgObserver.unobserve(img);
      }
    });
  }, { rootMargin: '200px 0px', threshold: 0.01 });

  document.querySelectorAll('.card-image[data-src]').forEach(img => {
    imgObserver.observe(img);
  });
}

function setupCardInteractions() {
  const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

  document.querySelectorAll('.project-card').forEach(card => {
    if (!isTouchDevice) {
      card.addEventListener('mousemove', (e) => {
        const rect = card.getBoundingClientRect();
        const x = ((e.clientX - rect.left) / rect.width) * 100;
        const y = ((e.clientY - rect.top) / rect.height) * 100;
        card.style.setProperty('--mouse-x', x + '%');
        card.style.setProperty('--mouse-y', y + '%');
        const centerX = rect.left + rect.width / 2;
        const centerY = rect.top + rect.height / 2;
        const rotateX = ((e.clientY - centerY) / (rect.height / 2)) * -4;
        const rotateY = ((e.clientX - centerX) / (rect.width / 2)) * 4;
        card.style.transform = `perspective(800px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(0) scale(1.02)`;
      });

      card.addEventListener('mouseleave', () => {
        card.style.transform = 'perspective(800px) rotateX(0) rotateY(0) translateY(0) scale(1)';
        card.style.transition = 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.5s ease, border-color 0.5s ease, background 0.5s ease';
      });

      card.addEventListener('mouseenter', () => {
        card.style.transition = 'box-shadow 0.5s ease, border-color 0.5s ease, background 0.5s ease';
      });
    }
  });
}

function setupScrollObservers() {
  const headerObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.2, rootMargin: '0px 0px -60px 0px' });

  document.querySelectorAll('.section-header').forEach(el => headerObserver.observe(el));

  const cardObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const delay = parseFloat(entry.target.dataset.delay || 0);
        setTimeout(() => {
          entry.target.classList.add('visible');
          entry.target.style.transition = `opacity 0.7s cubic-bezier(0.4,0,0.2,1) ${delay}s, transform 0.7s cubic-bezier(0.4,0,0.2,1) ${delay}s, box-shadow 0.5s ease, border-color 0.5s ease, background 0.5s ease`;
        }, 50);
        cardObserver.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });

  document.querySelectorAll('.project-card').forEach(el => cardObserver.observe(el));
}

function setupNavigation() {
  const nav = document.getElementById('mainNav');
  const hero = document.getElementById('hero');
  if (!nav || !hero) return;

  const heroObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (!entry.isIntersecting) {
        nav.classList.add('visible');
      } else {
        nav.classList.remove('visible');
      }
    });
  }, { threshold: 0.1 });

  heroObserver.observe(hero);

  const navLinksContainer = document.getElementById('navLinks');
  const sectionObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const id = entry.target.id;
        if (navLinksContainer) {
          navLinksContainer.querySelectorAll('a').forEach(a => {
            a.classList.toggle('active', a.getAttribute('href') === '#' + id);
          });
        }
        const drawerLinksContainer = document.getElementById('drawerLinks');
        if (drawerLinksContainer) {
          drawerLinksContainer.querySelectorAll('a').forEach(a => {
            a.classList.toggle('active', a.getAttribute('href') === '#' + id);
          });
        }
      }
    });
  }, { threshold: 0.3, rootMargin: '-100px 0px -50% 0px' });

  setTimeout(() => {
    document.querySelectorAll('.section').forEach(s => sectionObserver.observe(s));
  }, 100);
}

function setupDrawer() {
  const hamburger = document.getElementById('hamburgerBtn');
  const overlay = document.getElementById('drawerOverlay');
  const closeBtn = document.getElementById('drawerClose');
  const drawerNav = document.getElementById('drawerNav');

  if (hamburger) {
    hamburger.addEventListener('click', () => toggleDrawer());
  }

  if (overlay) {
    overlay.addEventListener('click', () => toggleDrawer(false));
  }

  if (closeBtn) {
    closeBtn.addEventListener('click', () => toggleDrawer(false));
  }

  if (drawerNav) {
    drawerNav.addEventListener('click', (e) => {
      if (e.target.tagName === 'A') {
        toggleDrawer(false);
      }
    });
  }

  window.addEventListener('resize', () => {
    if (window.innerWidth > 768 && drawerOpen) {
      toggleDrawer(false);
    }
  });
}

function setupScrollProgress() {
  const bar = document.getElementById('scrollProgress');
  if (!bar) return;
  let ticking = false;
  window.addEventListener('scroll', () => {
    if (!ticking) {
      requestAnimationFrame(() => {
        const scrollTop = window.scrollY;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const progress = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
        bar.style.width = progress + '%';
        ticking = false;
      });
      ticking = true;
    }
  }, { passive: true });
}

function setupBackToTop() {
  const btn = document.getElementById('backToTop');
  if (!btn) return;
  window.addEventListener('scroll', () => {
    if (window.scrollY > 600) {
      btn.classList.add('visible');
    } else {
      btn.classList.remove('visible');
    }
  }, { passive: true });

  btn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
}

document.addEventListener('DOMContentLoaded', () => {
  initHeroCanvas();
  renderHeroStats();
  renderProjects();
  setupNavigation();
  setupDrawer();
  setupScrollProgress();
  setupBackToTop();
});
</script>
</body>
</html>html {
    scroll-behavior: smooth;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
    background: var(--background-color);
    color: var(--text-primary);
    line-height: 1.6;
    overflow-x: hidden;
}

/* ===== Scroll Progress Bar ===== */
.scroll-progress {
    position: fixed;
    top: 0;
    left: 0;
    width: 0%;
    height: 3px;
    background: var(--primary-gradient);
    z-index: 10000;
    transition: width 0.1s linear;
    box-shadow: 0 0 10px var(--glow-primary);
}

/* ===== Navigation ===== */
.nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 9999;
    padding: 0 2rem;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    transform: translateY(-100%);
    opacity: 0;
}

.nav.visible {
    transform: translateY(0);
    opacity: 1;
}

.nav-inner {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.8rem 1.5rem;
    margin-top: 0.8rem;
    background: rgba(15, 17, 23, 0.8);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
    border-radius: 16px;
    border: 1px solid var(--border-color);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.nav-logo {
    font-size: 1.1rem;
    font-weight: 700;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    white-space: nowrap;
}

.nav-links {
    display: flex;
    gap: 0.5rem;
    list-style: none;
}

.nav-links a {
    color: var(--text-secondary);
    text-decoration: none;
    padding: 0.5rem 1rem;
    border-radius: 10px;
    font-size: 0.9rem;
    font-weight: 500;
    transition: all 0.3s ease;
    position: relative;
}

.nav-links a:hover,
.nav-links a.active {
    color: var(--text-primary);
    background: rgba(77, 182, 172, 0.1);
}

.nav-links a.active::after {
    content: '';
    position: absolute;
    bottom: 4px;
    left: 50%;
    transform: translateX(-50%);
    width: 20px;
    height: 2px;
    background: var(--primary);
    border-radius: 1px;
}

/* ===== Hero Section ===== */
.hero {
    position: relative;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    padding: 2rem;
}

.hero-bg {
    position: absolute;
    inset: 0;
    z-index: 0;
}

.hero-bg canvas {
    width: 100%;
    height: 100%;
}

.hero-gradient-overlay {
    position: absolute;
    inset: 0;
    background:
        radial-gradient(ellipse at 20% 50%, rgba(77, 182, 172, 0.15) 0%, transparent 60%),
        radial-gradient(ellipse at 80% 20%, rgba(92, 107, 192, 0.12) 0%, transparent 60%),
        radial-gradient(ellipse at 50% 80%, rgba(100, 181, 246, 0.1) 0%, transparent 60%);
    z-index: 1;
}

.hero-bottom-fade {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 200px;
    background: linear-gradient(to bottom, transparent, var(--background-color));
    z-index: 2;
}

.hero-content {
    position: relative;
    z-index: 3;
    text-align: center;
    max-width: 900px;
}

.hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1.2rem;
    background: rgba(77, 182, 172, 0.1);
    border: 1px solid rgba(77, 182, 172, 0.2);
    border-radius: 50px;
    font-size: 0.85rem;
    color: var(--primary);
    font-weight: 500;
    margin-bottom: 2rem;
    animation: fadeInDown 0.8s ease-out 0.2s both;
}

.badge-dot {
    width: 6px;
    height: 6px;
    background: var(--primary);
    border-radius: 50%;
    animation: pulse-dot 2s ease-in-out infinite;
}

@keyframes pulse-dot {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.8); }
}

.hero h1 {
    font-size: clamp(3rem, 7vw, 5.5rem);
    font-weight: 800;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    animation: fadeInDown 0.8s ease-out 0.4s both;
}

.hero h1 .gradient-text {
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.hero h1 .line {
    display: block;
}

.hero-description {
    font-size: clamp(1.05rem, 2vw, 1.3rem);
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto 2.5rem;
    line-height: 1.8;
    animation: fadeInDown 0.8s ease-out 0.6s both;
}

.hero-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    animation: fadeInDown 0.8s ease-out 0.8s both;
}

.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.9rem 2rem;
    border-radius: 14px;
    font-size: 1rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    border: none;
    position: relative;
    overflow: hidden;
}

.btn-primary {
    background: var(--primary-gradient);
    color: white;
    box-shadow: 0 4px 15px rgba(77, 182, 172, 0.3);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(77, 182, 172, 0.4);
}

.btn-secondary {
    background: rgba(240, 245, 255, 0.06);
    color: var(--text-primary);
    border: 1px solid var(--border-color);
    backdrop-filter: blur(10px);
}

.btn-secondary:hover {
    background: rgba(240, 245, 255, 0.1);
    border-color: var(--border-hover);
    transform: translateY(-2px);
}

.hero-stats {
    display: flex;
    gap: 3rem;
    justify-content: center;
    margin-top: 4rem;
    animation: fadeInDown 0.8s ease-out 1s both;
}

.stat {
    text-align: center;
}

.stat-number {
    font-size: 2rem;
    font-weight: 800;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.stat-label {
    font-size: 0.85rem;
    color: var(--text-muted);
    margin-top: 0.2rem;
}

.scroll-indicator {
    position: absolute;
    bottom: 3rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: 3;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    animation: fadeInDown 0.8s ease-out 1.2s both;
}

.scroll-indicator span {
    font-size: 0.75rem;
    color: var(--text-muted);
    letter-spacing: 0.1em;
    text-transform: uppercase;
}

.scroll-mouse {
    width: 24px;
    height: 38px;
    border: 2px solid var(--border-hover);
    border-radius: 12px;
    position: relative;
}

.scroll-mouse::after {
    content: '';
    position: absolute;
    top: 6px;
    left: 50%;
    transform: translateX(-50%);
    width: 3px;
    height: 8px;
    background: var(--primary);
    border-radius: 2px;
    animation: scroll-wheel 2s ease-in-out infinite;
}

@keyframes scroll-wheel {
    0% { transform: translateX(-50%) translateY(0); opacity: 1; }
    100% { transform: translateX(-50%) translateY(12px); opacity: 0; }
}

@keyframes fadeInDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ===== Floating Orbs ===== */
.orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
    animation: float-orb 20s ease-in-out infinite alternate;
    z-index: 0;
    pointer-events: none;
}

.orb-1 {
    width: 400px;
    height: 400px;
    background: var(--primary);
    top: 10%;
    left: -5%;
    animation-delay: 0s;
}

.orb-2 {
    width: 350px;
    height: 350px;
    background: var(--secondary);
    top: 60%;
    right: -5%;
    animation-delay: -7s;
}

.orb-3 {
    width: 300px;
    height: 300px;
    background: var(--accent);
    bottom: 10%;
    left: 30%;
    animation-delay: -14s;
}

@keyframes float-orb {
    0% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -30px) scale(1.05); }
    66% { transform: translate(-20px, 20px) scale(0.95); }
    100% { transform: translate(10px, -10px) scale(1.02); }
}

/* ===== Main Content ===== */
.main-content {
    position: relative;
    z-index: 1;
    padding-top: 2rem;
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 2rem;
}

/* ===== Section ===== */
.section {
    margin-bottom: 6rem;
    scroll-margin-top: 100px;
}

.section-header {
    text-align: center;
    margin-bottom: 3.5rem;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.section-header.visible {
    opacity: 1;
    transform: translateY(0);
}

.section-label {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--primary);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin-bottom: 1rem;
}

.section-label::before,
.section-label::after {
    content: '';
    width: 30px;
    height: 1px;
    background: var(--primary);
    opacity: 0.5;
}

.section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    margin-bottom: 1rem;
    line-height: 1.2;
}

.section-title .gradient-text {
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.section-description {
    font-size: 1.05rem;
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.7;
}

/* ===== Project Grid ===== */
.projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 2rem;
}

/* ===== Project Card ===== */
.project-card {
    position: relative;
    background: var(--card-color);
    border-radius: 20px;
    border: 1px solid var(--border-color);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    opacity: 0;
    transform: translateY(40px);
    will-change: transform, opacity;
}

.project-card.visible {
    opacity: 1;
    transform: translateY(0);
}

.project-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 20px;
    padding: 1px;
    background: linear-gradient(135deg, rgba(77, 182, 172, 0), rgba(92, 107, 192, 0));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    transition: background 0.5s ease;
    pointer-events: none;
    z-index: 2;
}

.project-card:hover::before {
    background: linear-gradient(135deg, rgba(77, 182, 172, 0.5), rgba(92, 107, 192, 0.5));
}

.project-card:hover {
    border-color: transparent;
    box-shadow:
        0 20px 60px rgba(0, 0, 0, 0.3),
        0 0 40px rgba(77, 182, 172, 0.08);
    background: var(--card-hover);
}

/* Card Shine Effect */
.card-shine {
    position: absolute;
    inset: 0;
    z-index: 1;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.5s ease;
    background: radial-gradient(600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
        rgba(255, 255, 255, 0.06),
        transparent 40%);
}

.project-card:hover .card-shine {
    opacity: 1;
}

.card-image-wrapper {
    position: relative;
    height: 210px;
    overflow: hidden;
    background: var(--background-secondary);
}

.card-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.project-card:hover .card-image {
    transform: scale(1.08);
}

.card-image-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, transparent 50%, rgba(15, 17, 23, 0.8) 100%);
    z-index: 1;
}

/* Shimmer loading */
.card-image-wrapper.loading::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.05) 50%,
        transparent 100%);
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.card-number {
    position: absolute;
    top: 1rem;
    left: 1rem;
    z-index: 2;
    font-size: 0.75rem;
    font-weight: 700;
    color: white;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(10px);
    padding: 0.3rem 0.7rem;
    border-radius: 8px;
    letter-spacing: 0.05em;
}

.card-body {
    padding: 1.5rem 1.8rem 1.8rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    position: relative;
    z-index: 1;
}

.card-title {
    font-size: 1.35rem;
    font-weight: 700;
    margin-bottom: 0.6rem;
    color: var(--text-primary);
    line-height: 1.4;
    transition: color 0.3s ease;
}

.project-card:hover .card-title {
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.card-description {
    color: var(--text-secondary);
    font-size: 0.92rem;
    line-height: 1.7;
    flex-grow: 1;
    margin-bottom: 1.5rem;
}

.card-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.card-link {
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    text-decoration: none;
    color: var(--primary);
    font-weight: 600;
    font-size: 0.92rem;
    padding: 0.6rem 1.4rem;
    border-radius: 12px;
    background: rgba(77, 182, 172, 0.08);
    border: 1px solid rgba(77, 182, 172, 0.15);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.card-link:hover {
    background: var(--primary-gradient);
    color: white;
    border-color: transparent;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(77, 182, 172, 0.3);
}

.card-link .arrow {
    transition: transform 0.3s ease;
    font-size: 1.1em;
}

.card-link:hover .arrow {
    transform: translateX(3px);
}

.card-tag {
    font-size: 0.78rem;
    color: var(--text-muted);
    padding: 0.3rem 0.8rem;
    background: rgba(240, 245, 255, 0.04);
    border-radius: 8px;
    border: 1px solid var(--border-color);
}

/* ===== Skeleton Loading ===== */
.skeleton {
    background: rgba(240, 245, 255, 0.06);
    border-radius: 8px;
    animation: pulse-skeleton 1.8s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse-skeleton {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

/* ===== Footer ===== */
footer {
    position: relative;
    margin-top: 4rem;
    padding: 4rem 2rem 2rem;
    background: var(--background-secondary);
    border-top: 1px solid var(--border-color);
}

.footer-content {
    max-width: 1400px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    gap: 3rem;
    margin-bottom: 3rem;
}

.footer-brand h3 {
    font-size: 1.3rem;
    font-weight: 700;
    margin-bottom: 0.8rem;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.footer-brand p {
    color: var(--text-secondary);
    font-size: 0.92rem;
    line-height: 1.7;
    max-width: 350px;
}

.footer-section h4 {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

.footer-section ul {
    list-style: none;
}

.footer-section ul li {
    margin-bottom: 0.6rem;
}

.footer-section ul li a {
    color: var(--text-secondary);
    text-decoration: none;
    font-size: 0.9rem;
    transition: color 0.3s ease;
}

.footer-section ul li a:hover {
    color: var(--primary);
}

.footer-bottom {
    max-width: 1400px;
    margin: 0 auto;
    padding-top: 2rem;
    border-top: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.footer-bottom p {
    color: var(--text-muted);
    font-size: 0.85rem;
}

.footer-bottom a {
    color: var(--primary);
    text-decoration: none;
}

/* ===== Back to Top ===== */
.back-to-top {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    width: 48px;
    height: 48px;
    border-radius: 14px;
    background: rgba(15, 17, 23, 0.8);
    backdrop-filter: blur(20px);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 999;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 1.2rem;
}

.back-to-top.visible {
    opacity: 1;
    transform: translateY(0);
}

.back-to-top:hover {
    background: var(--primary-gradient);
    border-color: transparent;
    box-shadow: 0 4px 20px rgba(77, 182, 172, 0.3);
    transform: translateY(-3px);
}

/* ===== Responsive ===== */
@media (max-width: 1024px) {
    .footer-content {
        grid-template-columns: 1fr 1fr;
    }
    .footer-brand {
        grid-column: 1 / -1;
    }
}

@media (max-width: 768px) {
    .hero { min-height: 90vh; padding: 2rem 1rem; }
    .container { padding: 0 1rem; }
    .projects-grid { grid-template-columns: 1fr; gap: 1.5rem; }
    .hero-stats { gap: 2rem; }
    .stat-number { font-size: 1.5rem; }
    .nav-inner { padding: 0.6rem 1rem; }
    .nav-links a { padding: 0.4rem 0.7rem; font-size: 0.82rem; }
    .section { margin-bottom: 4rem; }
    .footer-content { grid-template-columns: 1fr; gap: 2rem; }
    .footer-bottom { flex-direction: column; text-align: center; }
    .hero-actions { flex-direction: column; align-items: center; }
    .btn { width: 100%; max-width: 280px; justify-content: center; }
}

@media (max-width: 480px) {
    .project-card { border-radius: 16px; }
    .card-image-wrapper { height: 180px; }
    .card-body { padding: 1.2rem 1.4rem 1.5rem; }
    .card-title { font-size: 1.2rem; }
    .hero-stats { flex-direction: column; gap: 1rem; }
}

/* ===== Scrollbar ===== */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--background-color); }
::-webkit-scrollbar-thumb { background: rgba(77, 182, 172, 0.3); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(77, 182, 172, 0.5); }

/* ===== Selection ===== */
::selection {
    background: rgba(77, 182, 172, 0.3);
    color: var(--text-primary);
}
</style>
</head>
<body>

<!-- Scroll Progress -->
<div class="scroll-progress" id="scrollProgress"></div>

<!-- Navigation -->
<nav class="nav" id="mainNav">
    <div class="nav-inner">
        <div class="nav-logo">Creative Lab</div>
        <ul class="nav-links" id="navLinks"></ul>
    </div>
</nav>

<!-- Hero Section -->
<section class="hero" id="hero">
    <div class="hero-bg">
        <canvas id="heroCanvas"></canvas>
    </div>
    <div class="hero-gradient-overlay"></div>
    <div class="hero-bottom-fade"></div>

    <div class="hero-content">
        <div class="hero-badge">
            <span class="badge-dot"></span>
            <span>探索创意与技术的交汇</span>
        </div>
        <h1>
            <span class="line">创意互动</span>
            <span class="line"><span class="gradient-text">实验室</span></span>
        </h1>
        <p class="hero-description">
            这里汇集了各种精心制作的互动项目与游戏，每一个作品都是一次创意与技术的碰撞，点击即可体验。
        </p>
        <div class="hero-actions">
            <a href="#section-0" class="btn btn-primary">
                <span>浏览作品</span>
                <span class="arrow">&darr;</span>
            </a>
            <a href="#about" class="btn btn-secondary">
                <span>了解更多</span>
            </a>
        </div>
        <div class="hero-stats" id="heroStats">
            <!-- JS 动态填充 -->
        </div>
    </div>

    <div class="scroll-indicator">
        <div class="scroll-mouse"></div>
        <span>向下滚动</span>
    </div>
</section>


<!-- Floating Orbs (背景装饰) -->
<div class="orb orb-1"></div>
<div class="orb orb-2"></div>
<div class="orb orb-3"></div>

<!-- Main Content -->
<main class="main-content">
    <div class="container" id="projectsContainer">
        <!-- JS 动态生成 -->
    </div>
</main>

<!-- Footer -->
<footer id="about">
    <div class="footer-content">
        <div class="footer-brand">
            <h3>创意互动实验室</h3>
            <p>每一个项目都是对前端技术的探索与实践，希望这些小作品能带给你一些乐趣和灵感。所有项目均为纯前端实现，无需安装，点击即玩。</p>
        </div>
        <div class="footer-section">
            <h4>快速导航</h4>
            <ul id="footerNav">
                <!-- JS 动态填充 -->
            </ul>
        </div>
        <div class="footer-section">
            <h4>联系方式</h4>
            <ul>
                <li><a href="mailto:3256639070@qq.com">3256639070@qq.com</a></li>
            </ul>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2025 创意互动实验室 by 空城. 发现乐趣，体验创意。</p>
        <p>本站所有项目均为前端技术演示及教育用途，不包含真实交易与数据收集。</p>
    </div>
</footer>

<!-- Back to Top -->
<button class="back-to-top" id="backToTop" aria-label="回到顶部">&uarr;</button>

<script>
// ===== 项目数据 =====
const projectsData = {
    "互动项目": [
        {
            title: "文字磁场",
            description: "文字像被磁铁吸引一样在屏幕上运动，长按触碰或鼠标滑动形成有趣的动态效果，感受文字与物理的奇妙结合。",
            imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/wzcc.png",
            link: "https://vacuopolis.netlify.app/%E6%96%87%E5%AD%97%E7%A3%81%E5%9C%BA%EF%BC%88%E6%9B%B4%E6%96%B0%E4%B8%89%E7%89%88%EF%BC%89.html",
            tag: "物理模拟"
        },
        {
            title: "太阳系模拟",
            description: "模拟太阳系中行星围绕太阳运行的场景，观察行星的轨道和运动规律，了解宇宙的奇妙之处。",
            imageUrl: "https://vacuopolis.netlify.app/image/tyxmn.png",
            link: "https://vacuopolis.netlify.app/%E5%A4%AA%E9%98%B3%E7%B3%BB%E6%A8%A1%E6%8B%9F.html",
            tag: "天文可视化"
        }
    ],
    "小游戏": [
        {
            title: "亮灯解谜",
            description: "经典亮灯游戏，点击方块改变灯的状态，目标是将所有的灯都点亮。考验你的逻辑推理能力！",
            imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/ldyx.png",
            link: "https://vacuopolis.netlify.app/%E4%BA%AE%E7%81%AF%E6%B8%B8%E6%88%8F.html",
            tag: "逻辑解谜"
        },
        {
            title: "贪吃蛇大作战",
            description: "控制小蛇吃掉食物不断变长，小心不要撞到墙壁或自己的身体。多种模式等你挑战。",
            imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/tcs.png",
            link: "https://vacuopolis.netlify.app/%E8%B4%AA%E5%90%83%E8%9B%87.html",
            tag: "经典街机"
        },
        {
            title: "幸运转盘",
            description: "点击按钮转动转盘，猜猜会停在哪个数字？试试你的运气，看看命运之轮如何转动！",
            imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/lpd.png",
            link: "https://vacuopolis.netlify.app/%E8%BD%AE%E7%9B%98%E8%B5%8C.html",
            tag: "休闲娱乐"
        },
        {
            title: "经典扫雷",
            description: "根据数字提示避开地雷，开动脑筋，看看你能在多快的时间内完成挑战！",
            imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/sl.png",
            link: "https://vacuopolis.netlify.app/%E6%89%AB%E9%9B%B7.html",
            tag: "策略推理"
        },
        {
            title: "俄罗斯方块",
            description: "将不断下落的不同形状方块移动、旋转并排列成完整的一行或多行以消除得分。",
            imageUrl: "https://raw.githubusercontent.com/Vacuopolis/html-type/refs/heads/main/image/elsfk.png",
            link: "https://vacuopolis.netlify.app/%E4%BF%84%E7%BD%97%E6%96%AF%E6%96%B9%E5%9D%97.html",
            tag: "经典街机"
        }
    ]
};

// ===== Hero Canvas 粒子动画 =====
function initHeroCanvas() {
    const canvas = document.getElementById('heroCanvas');
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    let width, height, particles, animationId;
    const PARTICLE_COUNT = 80;
    const CONNECTION_DISTANCE = 150;
    let mouse = { x: -9999, y: -9999 };

    function resize() {
        width = canvas.width = canvas.offsetWidth;
        height = canvas.height = canvas.offsetHeight;
    }

    function createParticles() {
        particles = [];
        for (let i = 0; i < PARTICLE_COUNT; i++) {
            particles.push({
                x: Math.random() * width,
                y: Math.random() * height,
                vx: (Math.random() - 0.5) * 0.5,
                vy: (Math.random() - 0.5) * 0.5,
                radius: Math.random() * 2 + 0.5,
                opacity: Math.random() * 0.5 + 0.2
            });
        }
    }

    function animate() {
        ctx.clearRect(0, 0, width, height);

        particles.forEach((p, i) => {
            p.x += p.vx;
            p.y += p.vy;

            if (p.x < 0 || p.x > width) p.vx *= -1;
            if (p.y < 0 || p.y > height) p.vy *= -1;

            // 鼠标排斥
            const dx = p.x - mouse.x;
            const dy = p.y - mouse.y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            if (dist < 120) {
                const force = (120 - dist) / 120;
                p.vx += (dx / dist) * force * 0.3;
                p.vy += (dy / dist) * force * 0.3;
            }

            // 速度衰减
            p.vx *= 0.99;
            p.vy *= 0.99;

            // 绘制粒子
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
            ctx.fillStyle = `rgba(77, 182, 172, ${p.opacity})`;
            ctx.fill();

            // 连线
            for (let j = i + 1; j < particles.length; j++) {
                const p2 = particles[j];
                const ddx = p.x - p2.x;
                const ddy = p.y - p2.y;
                const distance = Math.sqrt(ddx * ddx + ddy * ddy);
                if (distance < CONNECTION_DISTANCE) {
                    const alpha = (1 - distance / CONNECTION_DISTANCE) * 0.15;
                    ctx.beginPath();
                    ctx.moveTo(p.x, p.y);
                    ctx.lineTo(p2.x, p2.y);
                    ctx.strokeStyle = `rgba(77, 182, 172, ${alpha})`;
                    ctx.lineWidth = 0.5;
                    ctx.stroke();
                }
            }
        });

        animationId = requestAnimationFrame(animate);
    }

    canvas.addEventListener('mousemove', (e) => {
        const rect = canvas.getBoundingClientRect();
        mouse.x = e.clientX - rect.left;
        mouse.y = e.clientY - rect.top;
    });

    canvas.addEventListener('mouseleave', () => {
        mouse.x = -9999;
        mouse.y = -9999;
    });

    window.addEventListener('resize', () => {
        resize();
    });

    resize();
    createParticles();
    animate();
}

// ===== 统计数据 =====
function renderHeroStats() {
    const container = document.getElementById('heroStats');
    if (!container) return;
    let totalProjects = 0;
    let totalCategories = Object.keys(projectsData).length;
    Object.values(projectsData).forEach(arr => totalProjects += arr.length);

    container.innerHTML = `
        <div class="stat">
            <div class="stat-number" data-target="${totalProjects}">0</div>
            <div class="stat-label">个作品</div>
        </div>
        <div class="stat">
            <div class="stat-number" data-target="${totalCategories}">0</div>
            <div class="stat-label">个分类</div>
        </div>
        <div class="stat">
            <div class="stat-number" data-target="100">0%</div>
            <div class="stat-label">纯前端实现</div>
        </div>
    `;

    // 数字递增动画
    setTimeout(() => {
        container.querySelectorAll('.stat-number').forEach(el => {
            const target = parseInt(el.dataset.target);
            const isPercent = el.textContent.includes('%');
            let current = 0;
            const step = Math.max(1, Math.floor(target / 30));
            const interval = setInterval(() => {
                current += step;
                if (current >= target) {
                    current = target;
                    clearInterval(interval);
                }
                el.textContent = current + (isPercent ? '%' : '');
            }, 40);
        });
    }, 1200);
}

// ===== 渲染项目 =====
function renderProjects() {
    const container = document.getElementById('projectsContainer');
    if (!container) return;
    container.innerHTML = '';

    const navLinks = document.getElementById('navLinks');
    const footerNav = document.getElementById('footerNav');
    let navHTML = '<li><a href="#hero">首页</a></li>';
    let footerHTML = '<li><a href="#hero">首页</a></li>';
    let globalIndex = 0;

    Object.entries(projectsData).forEach(([category, projects], catIndex) => {
        const sectionId = `section-${catIndex}`;

        navHTML += `<li><a href="#${sectionId}">${category}</a></li>`;
        footerHTML += `<li><a href="#${sectionId}">${category}</a></li>`;

        const section = document.createElement('section');
        section.className = 'section';
        section.id = sectionId;

        let cardsHTML = '';
        projects.forEach((project, pIndex) => {
            globalIndex++;
            cardsHTML += `
                <div class="project-card" data-delay="${pIndex * 0.1}" data-link="${project.link}">
                    <div class="card-shine"></div>
                    <div class="card-image-wrapper loading">
                        <img class="card-image" data-src="${project.imageUrl}" alt="${project.title}" loading="lazy">
                        <div class="card-image-overlay"></div>
                        <span class="card-number">${String(globalIndex).padStart(2, '0')}</span>
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">${project.title}</h3>
                        <p class="card-description">${project.description}</p>
                        <div class="card-footer">
                            <a href="${project.link}" class="card-link" target="_blank" rel="noopener noreferrer">
                                <span>马上体验</span>
                                <span class="arrow">&rarr;</span>
                            </a>
                            ${project.tag ? `<span class="card-tag">${project.tag}</span>` : ''}
                        </div>
                    </div>
                </div>
            `;
        });

        section.innerHTML = `
            <div class="section-header">
                <div class="section-label"><span>${category}</span></div>
                <h2 class="section-title">
                    <span class="gradient-text">${category}</span>
                </h2>
                <p class="section-description">
                    ${category === '互动项目' ? '探索有趣的互动体验，感受技术与创意的融合' : '经典与创新并存的小游戏合集，随时随地开始挑战'}
                </p>
            </div>
            <div class="projects-grid">${cardsHTML}</div>
        `;

        container.appendChild(section);
    });

    if (navLinks) navLinks.innerHTML = navHTML;
    if (footerNav) footerNav.innerHTML = footerHTML;

    // 懒加载图片
    lazyLoadImages();
    // 设置卡片交互
    setupCardInteractions();
    // 设置滚动观察
    setupScrollObservers();
}

// ===== 图片懒加载 =====
function lazyLoadImages() {
    document.querySelectorAll('.card-image[data-src]').forEach(img => {
        const wrapper = img.closest('.card-image-wrapper');
        const realImg = new Image();
        realImg.onload = () => {
            img.src = img.dataset.src;
            img.removeAttribute('data-src');
            setTimeout(() => {
                if (wrapper) wrapper.classList.remove('loading');
            }, 100);
        };
        realImg.onerror = () => {
            if (wrapper) wrapper.classList.remove('loading');
        };
        realImg.src = img.dataset.src;
    });
}

// ===== 卡片鼠标跟随光效 =====
function setupCardInteractions() {
    const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

    document.querySelectorAll('.project-card').forEach(card => {
        if (!isTouchDevice) {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = ((e.clientX - rect.left) / rect.width) * 100;
                const y = ((e.clientY - rect.top) / rect.height) * 100;
                card.style.setProperty('--mouse-x', x + '%');
                card.style.setProperty('--mouse-y', y + '%');

                // 3D 倾斜
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                const rotateX = ((e.clientY - centerY) / (rect.height / 2)) * -4;
                const rotateY = ((e.clientX - centerX) / (rect.width / 2)) * 4;
                card.style.transform = `perspective(800px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(0) scale(1.02)`;
            });

            card.addEventListener('mouseleave', () => {
                card.style.transform = 'perspective(800px) rotateX(0) rotateY(0) translateY(0) scale(1)';
                card.style.transition = 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.5s ease, border-color 0.5s ease, background 0.5s ease';
            });

            card.addEventListener('mouseenter', () => {
                card.style.transition = 'box-shadow 0.5s ease, border-color 0.5s ease, background 0.5s ease';
            });
        }
    });
}

// ===== 滚动观察器 =====
function setupScrollObservers() {
    // 观察 section-header
    const headerObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, { threshold: 0.2, rootMargin: '0px 0px -60px 0px' });

    document.querySelectorAll('.section-header').forEach(el => headerObserver.observe(el));

    // 观察 project-card
    const cardObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const delay = parseFloat(entry.target.dataset.delay || 0);
                setTimeout(() => {
                    entry.target.classList.add('visible');
                    entry.target.style.transition = `opacity 0.7s cubic-bezier(0.4, 0, 0.2, 1) ${delay}s, transform 0.7s cubic-bezier(0.4, 0, 0.2, 1) ${delay}s, box-shadow 0.5s ease, border-color 0.5s ease, background 0.5s ease`;
                }, 50);
                cardObserver.unobserve(entry.target);
            }
        });
    }, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });

    document.querySelectorAll('.project-card').forEach(el => cardObserver.observe(el));
}

// ===== 导航栏显示/隐藏 =====
function setupNavigation() {
    const nav = document.getElementById('mainNav');
    const hero = document.getElementById('hero');
    if (!nav || !hero) return;

    let lastScroll = 0;

    const heroObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (!entry.isIntersecting) {
                nav.classList.add('visible');
            } else {
                nav.classList.remove('visible');
            }
        });
    }, { threshold: 0.1 });

    heroObserver.observe(hero);

    // 高亮当前导航
    const sections = document.querySelectorAll('.section');
    const navLinksContainer = document.getElementById('navLinks');

    const sectionObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting && navLinksContainer) {
                const id = entry.target.id;
                navLinksContainer.querySelectorAll('a').forEach(a => {
                    a.classList.toggle('active', a.getAttribute('href') === '#' + id);
                });
            }
        });
    }, { threshold: 0.3, rootMargin: '-100px 0px -50% 0px' });

    // 延迟观察，等 DOM 渲染完
    setTimeout(() => {
        document.querySelectorAll('.section').forEach(s => sectionObserver.observe(s));
    }, 100);
}

// ===== 滚动进度条 =====
function setupScrollProgress() {
    const bar = document.getElementById('scrollProgress');
    if (!bar) return;

    window.addEventListener('scroll', () => {
        const scrollTop = window.scrollY;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const progress = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
        bar.style.width = progress + '%';
    }, { passive: true });
}

// ===== 回到顶部 =====
function setupBackToTop() {
    const btn = document.getElementById('backToTop');
    if (!btn) return;

    window.addEventListener('scroll', () => {
        if (window.scrollY > 600) {
            btn.classList.add('visible');
        } else {
            btn.classList.remove('visible');
        }
    }, { passive: true });

    btn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
}

// ===== 初始化 =====
document.addEventListener('DOMContentLoaded', () => {
    initHeroCanvas();
    renderHeroStats();
    renderProjects();
    setupNavigation();
    setupScrollProgress();
    setupBackToTop();
});
</script>
</body>
</html>
